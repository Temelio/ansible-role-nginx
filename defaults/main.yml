---

# Defaults vars file for nginx role

# General
#------------------------------------------------------------------------------

# Packages and repositories management
nginx_packages: "{{ _nginx_packages }}"
nginx_repository_cache_valid_time: "{{ _nginx_repository_cache_valid_time }}"
nginx_repositories_keys: "{{ _nginx_repositories_keys }}"
nginx_repositories: "{{ _nginx_repositories }}"

# Services management
nginx_service_name: "{{ _nginx_service_name }}"
nginx_service_state: 'started'
nginx_service_enabled: True

# Nginx configuration properties
nginx_config_permissions:
  files:
    owner: 'root'
    group: 'root'
    mode: '0644'
  folders:
    owner: 'root'
    group: 'root'
    mode: '0750'

nginx_config_paths:
  files:
    main: '/etc/nginx/nginx.conf'
    default:
      - '/etc/nginx/conf.d/default.conf'
      - '/etc/nginx/conf.d/example_ssl.conf'
  folders:
    sites_available: '/etc/nginx/sites-available'
    sites_enabled: '/etc/nginx/sites-enabled'


# Servers configuration management
#------------------------------------------------------------------------------

# Remove default servers configuration files
nginx_delete_default_config_files: True

# Add a default servers before servers includes
nginx_add_default_server: True
nginx_default_server_options:
  - 'return 404;'


nginx_user: 'nginx'
nginx_error_log_path: '/var/log/nginx/error.log'
nginx_error_log_level: 'warn'
nginx_pid_path: '/run/nginx.pid'

nginx_main_options:
  - "user {{Â nginx_user }};"
  - 'worker_processes 1;'

nginx_events_options:
  - 'worker_connections 1024;'

nginx_http_options:
  - 'include /etc/nginx/mime.types;'
  - 'default_type application/octet-stream;'
  - 'access_log /var/log/nginx/access.log main;'
  - 'sendfile on;'
  - 'keepalive_timeout 65;'
  - 'include /etc/nginx/conf.d/*.conf;'

nginx_http_log_format_name: 'main'
nginx_http_log_format_string: '$remote_addr - $remote_user [$time_local] "$request" $status $body_bytes_sent "$http_referer" "$http_user_agent" "$http_x_forwarded_for"'

nginx_servers: []
nginx_upstreams: []
